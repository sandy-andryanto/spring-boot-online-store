<main class="flex-shrink-0 p-3 border-bottom bg-gray text-uppercase mb-5" id="breadcrumb">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb mt-2">
            <li class="breadcrumb-item"><a href="#">Home</a></li>
            <li class="breadcrumb-item"><a href="#">Authentication</a></li>
            <li class="breadcrumb-item active" aria-current="page">Register</li>
          </ol>
        </nav>
      </div>
    </div>
  </div>
</main>
<main class="flex-shrink-0 mb-5">
  <div class="container">
    <div class="row">
      <div class="col-md-4 mx-auto">
        <div class="card">
          <div class="card-header text-center bg-primary p-2">
            <h5 class="text-white"><i class="bi-person-lock me-2"></i>Sign Up New Account</h5>
          </div>
          <div class="card-body mb-2 p-4">
            <div class="text-center">
              <img alt="logo" width="85" class="img img-responsive"
                src="https://5an9y4lf0n50.github.io/demo-images/demo-commerce/app.png" />
              <p class="mt-2">
                <small>Please fill in form to create new account.</small>
              </p>
            </div>
            <div *ngIf="errorMessage" class="alert alert-danger">
              {{ errorMessage }}
            </div>
            <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" novalidate>
              <div class="mb-3 mt-2">
                <div class="input-group mb-3">
                  <span class="input-group-text">
                    <i class="bi-person-circle"></i>
                  </span>
                  <input
                      type="text"
                      id="name"
                      placeholder="Full Name"
                      class="form-control"
                      [ngClass]="{ 'is-invalid': name?.invalid && name?.touched }"
                      formControlName="name"
                    />
                    <div *ngIf="name?.invalid && name?.touched" class="invalid-feedback">
                      <div *ngIf="name?.errors?.['required']">Name is required.</div>
                      <div *ngIf="name?.errors?.['name']">Name is not valid.</div>
                    </div>
                </div>
              </div>
              <div class="mb-3 mt-2">
                <div class="input-group mb-3">
                  <span class="input-group-text">
                    <i class="bi-envelope"></i>
                  </span>
                  <input
                      type="email"
                      id="email"
                      placeholder="Email Address"
                      class="form-control"
                      [ngClass]="{ 'is-invalid': email?.invalid && email?.touched }"
                      formControlName="email"
                    />
                    <div *ngIf="email?.invalid && email?.touched" class="invalid-feedback">
                      <div *ngIf="email?.errors?.['required']">Email is required.</div>
                      <div *ngIf="email?.errors?.['email']">Email is not valid.</div>
                    </div>
                </div>
              </div>
              <div class="mb-3 mt-2">
                <div class="input-group mb-3">
                  <span class="input-group-text">
                    <i class="bi-lock"></i>
                  </span>
                 <input
                    [type]="showPassword ? 'text' : 'password'"
                    id="password"
                    class="form-control"
                    placeholder="Credential Password"
                    [ngClass]="{ 'is-invalid': password?.invalid && password?.touched }"
                    formControlName="password"
                  />
                  <span class="input-group-text input-group-password" (click)="setShowPassword()">
                    <i [class]="showPassword ? 'bi-eye' : 'bi-eye-slash'"></i>
                  </span>
                  <div *ngIf="password?.invalid && password?.touched" class="invalid-feedback">
                    <div *ngIf="password?.errors?.['required']">Password is required.</div>
                    <div *ngIf="password?.errors?.['minlength']">Minimum 6 characters.</div>
                  </div>
                </div>
              </div>
              <div class="mb-3 mt-2">
                <div class="input-group mb-3">
                  <span class="input-group-text">
                    <i class="bi-lock"></i>
                  </span>
                  <input
                    [type]="showPasswordConfirm ? 'text' : 'password'"
                    id="passwordConfirm"
                    class="form-control"
                    placeholder="Confirm Account Password"
                    [ngClass]="{ 'is-invalid': passwordConfirm?.invalid && passwordConfirm?.touched }"
                    formControlName="passwordConfirm"
                  />
                  <span class="input-group-text input-group-password" (click)="setShowPasswordConfirm()">
                    <i [class]="showPasswordConfirm ? 'bi-eye' : 'bi-eye-slash'"></i>
                  </span>
                  <div *ngIf="passwordConfirm?.invalid && passwordConfirm?.touched" class="invalid-feedback">
                    <div *ngIf="passwordConfirm?.errors?.['required']">Password Confirm is required.</div>
                    <div *ngIf="passwordConfirm?.errors?.['minlength']">Minimum 6 characters.</div>
                  </div>
                </div>
              </div>
              <button type="submit" [disabled]="registerForm.invalid || loading" class="btn btn-primary border w-100 mt-2" title="">
               <i [ngClass]="loading ? 'fas fa-circle-notch fa-spin me-2' : 'bi-box-arrow-right me-2'"></i>Sign Up Now
              </button>
            </form>
            <div class="text-center mt-3">
              <small>Already have an account ? <a [routerLink]="['/auth/login']">Back To Sign In</a></small>
            </div>
          </div>
          <div class="card-footer p-3 text-center bg-primary">
            <span class="text-white">
              <small>Copyright {{ nowYear }} - Elector Store</small>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
